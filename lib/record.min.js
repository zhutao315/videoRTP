"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var commonjsGlobal="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function createCommonjsModule(e,t){return e(t={exports:{}},t.exports),t.exports}function getCjsExportFromNamespace(e){return e&&e.default||e}var check=function(e){return e&&e.Math==Math&&e},global_1=check("object"==typeof globalThis&&globalThis)||check("object"==typeof window&&window)||check("object"==typeof self&&self)||check("object"==typeof commonjsGlobal&&commonjsGlobal)||Function("return this")(),fails=function(e){try{return!!e()}catch(e){return!0}},descriptors=!fails(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}),nativePropertyIsEnumerable={}.propertyIsEnumerable,getOwnPropertyDescriptor=Object.getOwnPropertyDescriptor,NASHORN_BUG=getOwnPropertyDescriptor&&!nativePropertyIsEnumerable.call({1:2},1),f=NASHORN_BUG?function(e){var t=getOwnPropertyDescriptor(this,e);return!!t&&t.enumerable}:nativePropertyIsEnumerable,objectPropertyIsEnumerable={f:f},createPropertyDescriptor=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},toString={}.toString,classofRaw=function(e){return toString.call(e).slice(8,-1)},split="".split,indexedObject=fails(function(){return!Object("z").propertyIsEnumerable(0)})?function(e){return"String"==classofRaw(e)?split.call(e,""):Object(e)}:Object,requireObjectCoercible=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e},toIndexedObject=function(e){return indexedObject(requireObjectCoercible(e))},isObject=function(e){return"object"==typeof e?null!==e:"function"==typeof e},toPrimitive=function(e,t){if(!isObject(e))return e;var r,o;if(t&&"function"==typeof(r=e.toString)&&!isObject(o=r.call(e)))return o;if("function"==typeof(r=e.valueOf)&&!isObject(o=r.call(e)))return o;if(!t&&"function"==typeof(r=e.toString)&&!isObject(o=r.call(e)))return o;throw TypeError("Can't convert object to primitive value")},hasOwnProperty={}.hasOwnProperty,has=function(e,t){return hasOwnProperty.call(e,t)},document$1=global_1.document,EXISTS=isObject(document$1)&&isObject(document$1.createElement),documentCreateElement=function(e){return EXISTS?document$1.createElement(e):{}},ie8DomDefine=!descriptors&&!fails(function(){return 7!=Object.defineProperty(documentCreateElement("div"),"a",{get:function(){return 7}}).a}),nativeGetOwnPropertyDescriptor=Object.getOwnPropertyDescriptor,f$1=descriptors?nativeGetOwnPropertyDescriptor:function(e,t){if(e=toIndexedObject(e),t=toPrimitive(t,!0),ie8DomDefine)try{return nativeGetOwnPropertyDescriptor(e,t)}catch(e){}if(has(e,t))return createPropertyDescriptor(!objectPropertyIsEnumerable.f.call(e,t),e[t])},objectGetOwnPropertyDescriptor={f:f$1},replacement=/#|\.prototype\./,isForced=function(e,t){var r=data[normalize(e)];return r==POLYFILL||r!=NATIVE&&("function"==typeof t?fails(t):!!t)},normalize=isForced.normalize=function(e){return String(e).replace(replacement,".").toLowerCase()},data=isForced.data={},NATIVE=isForced.NATIVE="N",POLYFILL=isForced.POLYFILL="P",isForced_1=isForced,path={},aFunction=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e},functionBindContext=function(o,n,e){if(aFunction(o),void 0===n)return o;switch(e){case 0:return function(){return o.call(n)};case 1:return function(e){return o.call(n,e)};case 2:return function(e,t){return o.call(n,e,t)};case 3:return function(e,t,r){return o.call(n,e,t,r)}}return function(){return o.apply(n,arguments)}},anObject=function(e){if(!isObject(e))throw TypeError(String(e)+" is not an object");return e},nativeDefineProperty=Object.defineProperty,f$2=descriptors?nativeDefineProperty:function(e,t,r){if(anObject(e),t=toPrimitive(t,!0),anObject(r),ie8DomDefine)try{return nativeDefineProperty(e,t,r)}catch(e){}if("get"in r||"set"in r)throw TypeError("Accessors not supported");return"value"in r&&(e[t]=r.value),e},objectDefineProperty={f:f$2},createNonEnumerableProperty=descriptors?function(e,t,r){return objectDefineProperty.f(e,t,createPropertyDescriptor(1,r))}:function(e,t,r){return e[t]=r,e},getOwnPropertyDescriptor$1=objectGetOwnPropertyDescriptor.f,wrapConstructor=function(o){function e(e,t,r){if(this instanceof o){switch(arguments.length){case 0:return new o;case 1:return new o(e);case 2:return new o(e,t)}return new o(e,t,r)}return o.apply(this,arguments)}return e.prototype=o.prototype,e},_export=function(e,t){var r,o,n,i,a,c,s,l,u=e.target,p=e.global,f=e.stat,d=e.proto,y=p?global_1:f?global_1[u]:(global_1[u]||{}).prototype,m=p?path:path[u]||(path[u]={}),g=m.prototype;for(n in t)r=!isForced_1(p?n:u+(f?".":"#")+n,e.forced)&&y&&has(y,n),a=m[n],r&&(c=e.noTargetGet?(l=getOwnPropertyDescriptor$1(y,n))&&l.value:y[n]),i=r&&c?c:t[n],r&&typeof a==typeof i||(s=e.bind&&r?functionBindContext(i,global_1):e.wrap&&r?wrapConstructor(i):d&&"function"==typeof i?functionBindContext(Function.call,i):i,(e.sham||i&&i.sham||a&&a.sham)&&createNonEnumerableProperty(s,"sham",!0),m[n]=s,d&&(has(path,o=u+"Prototype")||createNonEnumerableProperty(path,o,{}),path[o][n]=i,e.real&&g&&!g[n]&&createNonEnumerableProperty(g,n,i)))},aFunction$1=function(e){return"function"==typeof e?e:void 0},getBuiltIn=function(e,t){return arguments.length<2?aFunction$1(path[e])||aFunction$1(global_1[e]):path[e]&&path[e][t]||global_1[e]&&global_1[e][t]},engineUserAgent=getBuiltIn("navigator","userAgent")||"",slice=[].slice,MSIE=/MSIE .\./.test(engineUserAgent),wrap=function(n){return function(e,t){var r=2<arguments.length,o=r?slice.call(arguments,2):void 0;return n(r?function(){("function"==typeof e?e:Function(e)).apply(this,o)}:e,t)}};_export({global:!0,bind:!0,forced:MSIE},{setTimeout:wrap(global_1.setTimeout),setInterval:wrap(global_1.setInterval)});var setInterval=path.setInterval,setInterval$1=setInterval,setInterval$2=setInterval,es_object_toString=Object.freeze({__proto__:null}),ceil=Math.ceil,floor=Math.floor,toInteger=function(e){return isNaN(e=+e)?0:(0<e?floor:ceil)(e)},createMethod=function(c){return function(e,t){var r,o,n=String(requireObjectCoercible(e)),i=toInteger(t),a=n.length;return i<0||a<=i?c?"":void 0:(r=n.charCodeAt(i))<55296||56319<r||i+1===a||(o=n.charCodeAt(i+1))<56320||57343<o?c?n.charAt(i):r:c?n.slice(i,i+2):o-56320+(r-55296<<10)+65536}},stringMultibyte={codeAt:createMethod(!1),charAt:createMethod(!0)},setGlobal=function(t,r){try{createNonEnumerableProperty(global_1,t,r)}catch(e){global_1[t]=r}return r},SHARED="__core-js_shared__",store=global_1[SHARED]||setGlobal(SHARED,{}),sharedStore=store,functionToString=Function.toString;"function"!=typeof sharedStore.inspectSource&&(sharedStore.inspectSource=function(e){return functionToString.call(e)});var store$1,wmget,wmhas,wmset,set,get,has$1,STATE,inspectSource=sharedStore.inspectSource,WeakMap=global_1.WeakMap,nativeWeakMap="function"==typeof WeakMap&&/native code/.test(inspectSource(WeakMap)),isPure=!0,shared=createCommonjsModule(function(e){(e.exports=function(e,t){return sharedStore[e]||(sharedStore[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.6.4",mode:"pure",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})}),id=0,postfix=Math.random(),uid=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++id+postfix).toString(36)},keys=shared("keys"),sharedKey=function(e){return keys[e]||(keys[e]=uid(e))},hiddenKeys={},WeakMap$1=global_1.WeakMap,enforce=function(e){return has$1(e)?get(e):set(e,{})},getterFor=function(r){return function(e){var t;if(!isObject(e)||(t=get(e)).type!==r)throw TypeError("Incompatible receiver, "+r+" required");return t}};has$1=nativeWeakMap?(store$1=new WeakMap$1,wmget=store$1.get,wmhas=store$1.has,wmset=store$1.set,set=function(e,t){return wmset.call(store$1,e,t),t},get=function(e){return wmget.call(store$1,e)||{}},function(e){return wmhas.call(store$1,e)}):(STATE=sharedKey("state"),hiddenKeys[STATE]=!0,set=function(e,t){return createNonEnumerableProperty(e,STATE,t),t},get=function(e){return has(e,STATE)?e[STATE]:{}},function(e){return has(e,STATE)});var IteratorPrototype,PrototypeOfArrayIteratorPrototype,arrayIterator,internalState={set:set,get:get,has:has$1,enforce:enforce,getterFor:getterFor},toObject=function(e){return Object(requireObjectCoercible(e))},correctPrototypeGetter=!fails(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}),IE_PROTO=sharedKey("IE_PROTO"),ObjectPrototype=Object.prototype,objectGetPrototypeOf=correctPrototypeGetter?Object.getPrototypeOf:function(e){return e=toObject(e),has(e,IE_PROTO)?e[IE_PROTO]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?ObjectPrototype:null},nativeSymbol=!!Object.getOwnPropertySymbols&&!fails(function(){return!String(Symbol())}),useSymbolAsUid=nativeSymbol&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,WellKnownSymbolsStore=shared("wks"),Symbol$1=global_1.Symbol,createWellKnownSymbol=useSymbolAsUid?Symbol$1:Symbol$1&&Symbol$1.withoutSetter||uid,wellKnownSymbol=function(e){return has(WellKnownSymbolsStore,e)||(nativeSymbol&&has(Symbol$1,e)?WellKnownSymbolsStore[e]=Symbol$1[e]:WellKnownSymbolsStore[e]=createWellKnownSymbol("Symbol."+e)),WellKnownSymbolsStore[e]},ITERATOR=wellKnownSymbol("iterator"),BUGGY_SAFARI_ITERATORS=!1;[].keys&&("next"in(arrayIterator=[].keys())?(PrototypeOfArrayIteratorPrototype=objectGetPrototypeOf(objectGetPrototypeOf(arrayIterator)))!==Object.prototype&&(IteratorPrototype=PrototypeOfArrayIteratorPrototype):BUGGY_SAFARI_ITERATORS=!0),null==IteratorPrototype&&(IteratorPrototype={});var activeXDocument,iteratorsCore={IteratorPrototype:IteratorPrototype,BUGGY_SAFARI_ITERATORS:BUGGY_SAFARI_ITERATORS},min=Math.min,toLength=function(e){return 0<e?min(toInteger(e),9007199254740991):0},max=Math.max,min$1=Math.min,toAbsoluteIndex=function(e,t){var r=toInteger(e);return r<0?max(r+t,0):min$1(r,t)},createMethod$1=function(c){return function(e,t,r){var o,n=toIndexedObject(e),i=toLength(n.length),a=toAbsoluteIndex(r,i);if(c&&t!=t){for(;a<i;)if((o=n[a++])!=o)return!0}else for(;a<i;a++)if((c||a in n)&&n[a]===t)return c||a||0;return!c&&-1}},arrayIncludes={includes:createMethod$1(!0),indexOf:createMethod$1(!1)},indexOf=arrayIncludes.indexOf,objectKeysInternal=function(e,t){var r,o=toIndexedObject(e),n=0,i=[];for(r in o)!has(hiddenKeys,r)&&has(o,r)&&i.push(r);for(;t.length>n;)has(o,r=t[n++])&&(~indexOf(i,r)||i.push(r));return i},enumBugKeys=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],objectKeys=Object.keys||function(e){return objectKeysInternal(e,enumBugKeys)},objectDefineProperties=descriptors?Object.defineProperties:function(e,t){anObject(e);for(var r,o=objectKeys(t),n=o.length,i=0;i<n;)objectDefineProperty.f(e,r=o[i++],t[r]);return e},html=getBuiltIn("document","documentElement"),GT=">",LT="<",PROTOTYPE="prototype",SCRIPT="script",IE_PROTO$1=sharedKey("IE_PROTO"),EmptyConstructor=function(){},scriptTag=function(e){return LT+SCRIPT+GT+e+LT+"/"+SCRIPT+GT},NullProtoObjectViaActiveX=function(e){e.write(scriptTag("")),e.close();var t=e.parentWindow.Object;return e=null,t},NullProtoObjectViaIFrame=function(){var e,t=documentCreateElement("iframe"),r="java"+SCRIPT+":";return t.style.display="none",html.appendChild(t),t.src=String(r),(e=t.contentWindow.document).open(),e.write(scriptTag("document.F=Object")),e.close(),e.F},NullProtoObject=function(){try{activeXDocument=document.domain&&new ActiveXObject("htmlfile")}catch(e){}NullProtoObject=activeXDocument?NullProtoObjectViaActiveX(activeXDocument):NullProtoObjectViaIFrame();for(var e=enumBugKeys.length;e--;)delete NullProtoObject[PROTOTYPE][enumBugKeys[e]];return NullProtoObject()};hiddenKeys[IE_PROTO$1]=!0;var objectCreate=Object.create||function(e,t){var r;return null!==e?(EmptyConstructor[PROTOTYPE]=anObject(e),r=new EmptyConstructor,EmptyConstructor[PROTOTYPE]=null,r[IE_PROTO$1]=e):r=NullProtoObject(),void 0===t?r:objectDefineProperties(r,t)},TO_STRING_TAG=wellKnownSymbol("toStringTag"),test={};test[TO_STRING_TAG]="z";var toStringTagSupport="[object z]"===String(test),TO_STRING_TAG$1=wellKnownSymbol("toStringTag"),CORRECT_ARGUMENTS="Arguments"==classofRaw(function(){return arguments}()),tryGet=function(e,t){try{return e[t]}catch(e){}},classof=toStringTagSupport?classofRaw:function(e){var t,r,o;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=tryGet(t=Object(e),TO_STRING_TAG$1))?r:CORRECT_ARGUMENTS?classofRaw(t):"Object"==(o=classofRaw(t))&&"function"==typeof t.callee?"Arguments":o},objectToString=toStringTagSupport?{}.toString:function(){return"[object "+classof(this)+"]"},defineProperty=objectDefineProperty.f,TO_STRING_TAG$2=wellKnownSymbol("toStringTag"),setToStringTag=function(e,t,r,o){var n;e&&(n=r?e:e.prototype,has(n,TO_STRING_TAG$2)||defineProperty(n,TO_STRING_TAG$2,{configurable:!0,value:t}),o&&!toStringTagSupport&&createNonEnumerableProperty(n,"toString",objectToString))},iterators={},IteratorPrototype$1=iteratorsCore.IteratorPrototype,returnThis=function(){return this},createIteratorConstructor=function(e,t,r){var o=t+" Iterator";return e.prototype=objectCreate(IteratorPrototype$1,{next:createPropertyDescriptor(1,r)}),setToStringTag(e,o,!1,!0),iterators[o]=returnThis,e},aPossiblePrototype=function(e){if(!isObject(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype");return e},objectSetPrototypeOf=Object.setPrototypeOf||("__proto__"in{}?function(){var r,o=!1,e={};try{(r=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(e,[]),o=e instanceof Array}catch(e){}return function(e,t){return anObject(e),aPossiblePrototype(t),o?r.call(e,t):e.__proto__=t,e}}():void 0),redefine=function(e,t,r,o){o&&o.enumerable?e[t]=r:createNonEnumerableProperty(e,t,r)},IteratorPrototype$2=iteratorsCore.IteratorPrototype,BUGGY_SAFARI_ITERATORS$1=iteratorsCore.BUGGY_SAFARI_ITERATORS,ITERATOR$1=wellKnownSymbol("iterator"),KEYS="keys",VALUES="values",ENTRIES="entries",returnThis$1=function(){return this},defineIterator=function(e,t,r,o,n,i,a){createIteratorConstructor(r,t,o);function c(e){if(e===n&&m)return m;if(!BUGGY_SAFARI_ITERATORS$1&&e in d)return d[e];switch(e){case KEYS:case VALUES:case ENTRIES:return function(){return new r(this,e)}}return function(){return new r(this)}}var s,l,u,p=t+" Iterator",f=!1,d=e.prototype,y=d[ITERATOR$1]||d["@@iterator"]||n&&d[n],m=!BUGGY_SAFARI_ITERATORS$1&&y||c(n),g="Array"==t&&d.entries||y;if(g&&(s=objectGetPrototypeOf(g.call(new e)),IteratorPrototype$2!==Object.prototype&&s.next&&(setToStringTag(s,p,!0,!0),iterators[p]=returnThis$1)),n==VALUES&&y&&y.name!==VALUES&&(f=!0,m=function(){return y.call(this)}),a&&d[ITERATOR$1]!==m&&createNonEnumerableProperty(d,ITERATOR$1,m),iterators[t]=m,n)if(l={values:c(VALUES),keys:i?m:c(KEYS),entries:c(ENTRIES)},a)for(u in l)!BUGGY_SAFARI_ITERATORS$1&&!f&&u in d||redefine(d,u,l[u]);else _export({target:t,proto:!0,forced:BUGGY_SAFARI_ITERATORS$1||f},l);return l},charAt=stringMultibyte.charAt,STRING_ITERATOR="String Iterator",setInternalState=internalState.set,getInternalState=internalState.getterFor(STRING_ITERATOR);defineIterator(String,"String",function(e){setInternalState(this,{type:STRING_ITERATOR,string:String(e),index:0})},function(){var e,t=getInternalState(this),r=t.string,o=t.index;return o>=r.length?{value:void 0,done:!0}:(e=charAt(r,o),t.index+=e.length,{value:e,done:!1})});var ARRAY_ITERATOR="Array Iterator",setInternalState$1=internalState.set,getInternalState$1=internalState.getterFor(ARRAY_ITERATOR),es_array_iterator=defineIterator(Array,"Array",function(e,t){setInternalState$1(this,{type:ARRAY_ITERATOR,target:toIndexedObject(e),index:0,kind:t})},function(){var e=getInternalState$1(this),t=e.target,r=e.kind,o=e.index++;return!t||o>=t.length?{value:e.target=void 0,done:!0}:"keys"==r?{value:o,done:!1}:"values"==r?{value:t[o],done:!1}:{value:[o,t[o]],done:!1}},"values");iterators.Arguments=iterators.Array;var domIterables={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},TO_STRING_TAG$3=wellKnownSymbol("toStringTag");for(var COLLECTION_NAME in domIterables){var Collection=global_1[COLLECTION_NAME],CollectionPrototype=Collection&&Collection.prototype;CollectionPrototype&&classof(CollectionPrototype)!==TO_STRING_TAG$3&&createNonEnumerableProperty(CollectionPrototype,TO_STRING_TAG$3,COLLECTION_NAME),iterators[COLLECTION_NAME]=iterators.Array}var nativePromiseConstructor=global_1.Promise,redefineAll=function(e,t,r){for(var o in t)r&&r.unsafe&&e[o]?e[o]=t[o]:redefine(e,o,t[o],r);return e},SPECIES=wellKnownSymbol("species"),setSpecies=function(e){var t=getBuiltIn(e),r=objectDefineProperty.f;descriptors&&t&&!t[SPECIES]&&r(t,SPECIES,{configurable:!0,get:function(){return this}})},anInstance=function(e,t,r){if(!(e instanceof t))throw TypeError("Incorrect "+(r?r+" ":"")+"invocation");return e},ITERATOR$2=wellKnownSymbol("iterator"),ArrayPrototype=Array.prototype,isArrayIteratorMethod=function(e){return void 0!==e&&(iterators.Array===e||ArrayPrototype[ITERATOR$2]===e)},ITERATOR$3=wellKnownSymbol("iterator"),getIteratorMethod=function(e){if(null!=e)return e[ITERATOR$3]||e["@@iterator"]||iterators[classof(e)]},callWithSafeIterationClosing=function(t,e,r,o){try{return o?e(anObject(r)[0],r[1]):e(r)}catch(e){var n=t.return;throw void 0!==n&&anObject(n.call(t)),e}},iterate_1=createCommonjsModule(function(e){function d(e,t){this.stopped=e,this.result=t}(e.exports=function(e,t,r,o,n){var i,a,c,s,l,u,p,f=functionBindContext(t,r,o?2:1);if(n)i=e;else{if("function"!=typeof(a=getIteratorMethod(e)))throw TypeError("Target is not iterable");if(isArrayIteratorMethod(a)){for(c=0,s=toLength(e.length);c<s;c++)if((l=o?f(anObject(p=e[c])[0],p[1]):f(e[c]))&&l instanceof d)return l;return new d(!1)}i=a.call(e)}for(u=i.next;!(p=u.call(i)).done;)if("object"==typeof(l=callWithSafeIterationClosing(i,f,p.value,o))&&l&&l instanceof d)return l;return new d(!1)}).stop=function(e){return new d(!0,e)}}),ITERATOR$4=wellKnownSymbol("iterator"),SAFE_CLOSING=!1;try{var called=0,iteratorWithReturn={next:function(){return{done:!!called++}},return:function(){SAFE_CLOSING=!0}};iteratorWithReturn[ITERATOR$4]=function(){return this},Array.from(iteratorWithReturn,function(){throw 2})}catch(e){}var defer,channel,port,checkCorrectnessOfIteration=function(e,t){if(!t&&!SAFE_CLOSING)return!1;var r=!1;try{var o={};o[ITERATOR$4]=function(){return{next:function(){return{done:r=!0}}}},e(o)}catch(e){}return r},SPECIES$1=wellKnownSymbol("species"),speciesConstructor=function(e,t){var r,o=anObject(e).constructor;return void 0===o||null==(r=anObject(o)[SPECIES$1])?t:aFunction(r)},engineIsIos=/(iphone|ipod|ipad).*applewebkit/i.test(engineUserAgent),location=global_1.location,set$1=global_1.setImmediate,clear=global_1.clearImmediate,process=global_1.process,MessageChannel=global_1.MessageChannel,Dispatch=global_1.Dispatch,counter=0,queue={},ONREADYSTATECHANGE="onreadystatechange",run=function(e){var t;queue.hasOwnProperty(e)&&(t=queue[e],delete queue[e],t())},runner=function(e){return function(){run(e)}},listener=function(e){run(e.data)},post=function(e){global_1.postMessage(e+"",location.protocol+"//"+location.host)};set$1&&clear||(set$1=function(e){for(var t=[],r=1;r<arguments.length;)t.push(arguments[r++]);return queue[++counter]=function(){("function"==typeof e?e:Function(e)).apply(void 0,t)},defer(counter),counter},clear=function(e){delete queue[e]},"process"==classofRaw(process)?defer=function(e){process.nextTick(runner(e))}:Dispatch&&Dispatch.now?defer=function(e){Dispatch.now(runner(e))}:MessageChannel&&!engineIsIos?(port=(channel=new MessageChannel).port2,channel.port1.onmessage=listener,defer=functionBindContext(port.postMessage,port,1)):!global_1.addEventListener||"function"!=typeof postMessage||global_1.importScripts||fails(post)||"file:"===location.protocol?defer=ONREADYSTATECHANGE in documentCreateElement("script")?function(e){html.appendChild(documentCreateElement("script"))[ONREADYSTATECHANGE]=function(){html.removeChild(this),run(e)}}:function(e){setTimeout(runner(e),0)}:(defer=post,global_1.addEventListener("message",listener,!1)));var flush,head,last,notify,toggle,node,promise,then,task={set:set$1,clear:clear},getOwnPropertyDescriptor$2=objectGetOwnPropertyDescriptor.f,macrotask=task.set,MutationObserver=global_1.MutationObserver||global_1.WebKitMutationObserver,process$1=global_1.process,Promise=global_1.Promise,IS_NODE="process"==classofRaw(process$1),queueMicrotaskDescriptor=getOwnPropertyDescriptor$2(global_1,"queueMicrotask"),queueMicrotask=queueMicrotaskDescriptor&&queueMicrotaskDescriptor.value;queueMicrotask||(flush=function(){var e,t;for(IS_NODE&&(e=process$1.domain)&&e.exit();head;){t=head.fn,head=head.next;try{t()}catch(e){throw head?notify():last=void 0,e}}last=void 0,e&&e.enter()},notify=IS_NODE?function(){process$1.nextTick(flush)}:MutationObserver&&!engineIsIos?(toggle=!0,node=document.createTextNode(""),new MutationObserver(flush).observe(node,{characterData:!0}),function(){node.data=toggle=!toggle}):Promise&&Promise.resolve?(promise=Promise.resolve(void 0),then=promise.then,function(){then.call(promise,flush)}):function(){macrotask.call(global_1,flush)});var match,version,microtask=queueMicrotask||function(e){var t={fn:e,next:void 0};last&&(last.next=t),head||(head=t,notify()),last=t},PromiseCapability=function(e){var r,o;this.promise=new e(function(e,t){if(void 0!==r||void 0!==o)throw TypeError("Bad Promise constructor");r=e,o=t}),this.resolve=aFunction(r),this.reject=aFunction(o)},f$3=function(e){return new PromiseCapability(e)},newPromiseCapability={f:f$3},promiseResolve=function(e,t){if(anObject(e),isObject(t)&&t.constructor===e)return t;var r=newPromiseCapability.f(e);return(0,r.resolve)(t),r.promise},hostReportErrors=function(e,t){var r=global_1.console;r&&r.error&&(1===arguments.length?r.error(e):r.error(e,t))},perform=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}},process$2=global_1.process,versions=process$2&&process$2.versions,v8=versions&&versions.v8;v8?version=(match=v8.split("."))[0]+match[1]:engineUserAgent&&(!(match=engineUserAgent.match(/Edge\/(\d+)/))||74<=match[1])&&(match=engineUserAgent.match(/Chrome\/(\d+)/))&&(version=match[1]);var Internal,OwnPromiseCapability,PromiseWrapper,engineV8Version=version&&+version,task$1=task.set,SPECIES$2=wellKnownSymbol("species"),PROMISE="Promise",getInternalState$2=internalState.get,setInternalState$2=internalState.set,getInternalPromiseState=internalState.getterFor(PROMISE),PromiseConstructor=nativePromiseConstructor,TypeError$1=global_1.TypeError,document$2=global_1.document,process$3=global_1.process,$fetch=getBuiltIn("fetch"),newPromiseCapability$1=newPromiseCapability.f,newGenericPromiseCapability=newPromiseCapability$1,IS_NODE$1="process"==classofRaw(process$3),DISPATCH_EVENT=!!(document$2&&document$2.createEvent&&global_1.dispatchEvent),UNHANDLED_REJECTION="unhandledrejection",REJECTION_HANDLED="rejectionhandled",PENDING=0,FULFILLED=1,REJECTED=2,HANDLED=1,UNHANDLED=2,FORCED=isForced_1(PROMISE,function(){if(!(inspectSource(PromiseConstructor)!==String(PromiseConstructor))){if(66===engineV8Version)return!0;if(!IS_NODE$1&&"function"!=typeof PromiseRejectionEvent)return!0}if(!PromiseConstructor.prototype.finally)return!0;if(51<=engineV8Version&&/native code/.test(PromiseConstructor))return!1;function e(e){e(function(){},function(){})}var t=PromiseConstructor.resolve(1);return(t.constructor={})[SPECIES$2]=e,!(t.then(function(){})instanceof e)}),INCORRECT_ITERATION=FORCED||!checkCorrectnessOfIteration(function(e){PromiseConstructor.all(e).catch(function(){})}),isThenable=function(e){var t;return!(!isObject(e)||"function"!=typeof(t=e.then))&&t},notify$1=function(p,f,d){var y;f.notified||(f.notified=!0,y=f.reactions,microtask(function(){for(var e=f.value,t=f.state==FULFILLED,r=0;y.length>r;){var o,n,i,a=y[r++],c=t?a.ok:a.fail,s=a.resolve,l=a.reject,u=a.domain;try{c?(t||(f.rejection===UNHANDLED&&onHandleUnhandled(p,f),f.rejection=HANDLED),!0===c?o=e:(u&&u.enter(),o=c(e),u&&(u.exit(),i=!0)),o===a.promise?l(TypeError$1("Promise-chain cycle")):(n=isThenable(o))?n.call(o,s,l):s(o)):l(e)}catch(e){u&&!i&&u.exit(),l(e)}}f.reactions=[],f.notified=!1,d&&!f.rejection&&onUnhandled(p,f)}))},dispatchEvent=function(e,t,r){var o,n;DISPATCH_EVENT?((o=document$2.createEvent("Event")).promise=t,o.reason=r,o.initEvent(e,!1,!0),global_1.dispatchEvent(o)):o={promise:t,reason:r},(n=global_1["on"+e])?n(o):e===UNHANDLED_REJECTION&&hostReportErrors("Unhandled promise rejection",r)},onUnhandled=function(r,o){task$1.call(global_1,function(){var e,t=o.value;if(isUnhandled(o)&&(e=perform(function(){IS_NODE$1?process$3.emit("unhandledRejection",t,r):dispatchEvent(UNHANDLED_REJECTION,r,t)}),o.rejection=IS_NODE$1||isUnhandled(o)?UNHANDLED:HANDLED,e.error))throw e.value})},isUnhandled=function(e){return e.rejection!==HANDLED&&!e.parent},onHandleUnhandled=function(e,t){task$1.call(global_1,function(){IS_NODE$1?process$3.emit("rejectionHandled",e):dispatchEvent(REJECTION_HANDLED,e,t.value)})},bind=function(t,r,o,n){return function(e){t(r,o,e,n)}},internalReject=function(e,t,r,o){t.done||(t.done=!0,o&&(t=o),t.value=r,t.state=REJECTED,notify$1(e,t,!0))},internalResolve=function(r,o,e,t){if(!o.done){o.done=!0,t&&(o=t);try{if(r===e)throw TypeError$1("Promise can't be resolved itself");var n=isThenable(e);n?microtask(function(){var t={done:!1};try{n.call(e,bind(internalResolve,r,t,o),bind(internalReject,r,t,o))}catch(e){internalReject(r,t,e,o)}}):(o.value=e,o.state=FULFILLED,notify$1(r,o,!1))}catch(e){internalReject(r,{done:!1},e,o)}}};FORCED&&(PromiseConstructor=function(e){anInstance(this,PromiseConstructor,PROMISE),aFunction(e),Internal.call(this);var t=getInternalState$2(this);try{e(bind(internalResolve,this,t),bind(internalReject,this,t))}catch(e){internalReject(this,t,e)}},(Internal=function(){setInternalState$2(this,{type:PROMISE,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:PENDING,value:void 0})}).prototype=redefineAll(PromiseConstructor.prototype,{then:function(e,t){var r=getInternalPromiseState(this),o=newPromiseCapability$1(speciesConstructor(this,PromiseConstructor));return o.ok="function"!=typeof e||e,o.fail="function"==typeof t&&t,o.domain=IS_NODE$1?process$3.domain:void 0,r.parent=!0,r.reactions.push(o),r.state!=PENDING&&notify$1(this,r,!1),o.promise},catch:function(e){return this.then(void 0,e)}}),OwnPromiseCapability=function(){var e=new Internal,t=getInternalState$2(e);this.promise=e,this.resolve=bind(internalResolve,e,t),this.reject=bind(internalReject,e,t)},newPromiseCapability.f=newPromiseCapability$1=function(e){return e===PromiseConstructor||e===PromiseWrapper?new OwnPromiseCapability(e):newGenericPromiseCapability(e)}),_export({global:!0,wrap:!0,forced:FORCED},{Promise:PromiseConstructor}),setToStringTag(PromiseConstructor,PROMISE,!1,!0),setSpecies(PROMISE),PromiseWrapper=getBuiltIn(PROMISE),_export({target:PROMISE,stat:!0,forced:FORCED},{reject:function(e){var t=newPromiseCapability$1(this);return t.reject.call(void 0,e),t.promise}}),_export({target:PROMISE,stat:!0,forced:isPure},{resolve:function(e){return promiseResolve(this===PromiseWrapper?PromiseConstructor:this,e)}}),_export({target:PROMISE,stat:!0,forced:INCORRECT_ITERATION},{all:function(e){var c=this,t=newPromiseCapability$1(c),s=t.resolve,l=t.reject,r=perform(function(){var o=aFunction(c.resolve),n=[],i=0,a=1;iterate_1(e,function(e){var t=i++,r=!1;n.push(void 0),a++,o.call(c,e).then(function(e){r||(r=!0,n[t]=e,--a||s(n))},l)}),--a||s(n)});return r.error&&l(r.value),t.promise},race:function(e){var r=this,o=newPromiseCapability$1(r),n=o.reject,t=perform(function(){var t=aFunction(r.resolve);iterate_1(e,function(e){t.call(r,e).then(o.resolve,n)})});return t.error&&n(t.value),o.promise}}),_export({target:"Promise",stat:!0},{allSettled:function(e){var c=this,t=newPromiseCapability.f(c),s=t.resolve,r=t.reject,o=perform(function(){var o=aFunction(c.resolve),n=[],i=0,a=1;iterate_1(e,function(e){var t=i++,r=!1;n.push(void 0),a++,o.call(c,e).then(function(e){r||(r=!0,n[t]={status:"fulfilled",value:e},--a||s(n))},function(e){r||(r=!0,n[t]={status:"rejected",reason:e},--a||s(n))})}),--a||s(n)});return o.error&&r(o.value),t.promise}});var NON_GENERIC=!!nativePromiseConstructor&&fails(function(){nativePromiseConstructor.prototype.finally.call({then:function(){}},function(){})});_export({target:"Promise",proto:!0,real:!0,forced:NON_GENERIC},{finally:function(t){var r=speciesConstructor(this,getBuiltIn("Promise")),e="function"==typeof t;return this.then(e?function(e){return promiseResolve(r,t()).then(function(){return e})}:t,e?function(e){return promiseResolve(r,t()).then(function(){throw e})}:t)}}),getCjsExportFromNamespace(es_object_toString);var promise$1=path.Promise,setInternalState$3=internalState.set,getInternalAggregateErrorState=internalState.getterFor("AggregateError"),$AggregateError=function(e,t){var r=this;if(!(r instanceof $AggregateError))return new $AggregateError(e,t);objectSetPrototypeOf&&(r=objectSetPrototypeOf(new Error(t),objectGetPrototypeOf(r)));var o=[];return iterate_1(e,o.push,o),descriptors?setInternalState$3(r,{errors:o,type:"AggregateError"}):r.errors=o,void 0!==t&&createNonEnumerableProperty(r,"message",String(t)),r};$AggregateError.prototype=objectCreate(Error.prototype,{constructor:createPropertyDescriptor(5,$AggregateError),message:createPropertyDescriptor(5,""),name:createPropertyDescriptor(5,"AggregateError")}),descriptors&&objectDefineProperty.f($AggregateError.prototype,"errors",{get:function(){return getInternalAggregateErrorState(this).errors},configurable:!0}),_export({global:!0},{AggregateError:$AggregateError}),_export({target:"Promise",stat:!0},{try:function(e){var t=newPromiseCapability.f(this),r=perform(e);return(r.error?t.reject:t.resolve)(r.value),t.promise}});var PROMISE_ANY_ERROR="No one promise resolved";_export({target:"Promise",stat:!0},{any:function(e){var s=this,t=newPromiseCapability.f(s),l=t.resolve,u=t.reject,r=perform(function(){var o=aFunction(s.resolve),n=[],i=0,a=1,c=!1;iterate_1(e,function(e){var t=i++,r=!1;n.push(void 0),a++,o.call(s,e).then(function(e){r||c||(c=!0,l(e))},function(e){r||c||(r=!0,n[t]=e,--a||u(new(getBuiltIn("AggregateError"))(n,PROMISE_ANY_ERROR)))})}),--a||u(new(getBuiltIn("AggregateError"))(n,PROMISE_ANY_ERROR))});return r.error&&u(r.value),t.promise}});var promise$2=promise$1,promise$3=promise$1;function RTCRecord(e,t){var r,o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},n=null,i=o.collectTime||1e3,a={mimeType:"video/webm;codecs=vp9"},c=null;function s(e){e.data&&0<e.data.size&&t&&t(e.data)}return n=e,r={mimeType:"video/webm;codecs=vp9"},MediaRecorder.isTypeSupported(r.mimeType)||(console.error("".concat(r.mimeType," is not Supported")),r={mimeType:"video/webm;codecs=vp8"},MediaRecorder.isTypeSupported(r.mimeType)||(console.error("".concat(r.mimeType," is not Supported")),r={mimeType:"video/webm"},MediaRecorder.isTypeSupported(r.mimeType)||(console.error("".concat(r.mimeType," is not Supported")),r={mimeType:""}))),a=r,function(){try{c=new MediaRecorder(n,a)}catch(e){return console.error("Exception while creating MediaRecorder:",e)}c.onstop=function(e){c=null,o.ended&&o.ended()},c.ondataavailable=s,c.start(i)}(),e.onended=function(){e=n=null},c}function CanvasRecord(i,a){var c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},s=null,t=null,e=new promise$3(function(e){return t=e});function l(){return i.videoHeight||i.clientHeight}function u(){return i.videoWidth||i.clientWidth}function r(){var e,t=((e=document.createElement("canvas")).style.display="none",e.setAttribute("height",l()),e.setAttribute("width",u()),document.body.append(e),e),r=t.getContext("2d"),o=l(),n=u();s=setInterval$2(function(){r.drawImage(i,0,0,o,n),t.toBlob(function(e){a&&a(e)},"image/webp")},c.duration||200)}function o(){n(),t(),console.log("视频播放完毕！")}function n(){s&&clearInterval(s),i.removeEventListener("canplay",r,!1),i.removeEventListener("ended",o,!1),c.ended&&c.ended()}return i.addEventListener("canplay",r,!1),i.addEventListener("ended",o,!1),{stop:n,canvasRecordPromise:e}}function record(e,t,r){var o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};return"undefined"!=typeof MediaRecorder?RTCRecord(e,r,o):CanvasRecord(t,r,o)}exports.CanvasRecord=CanvasRecord,exports.RTCRecord=RTCRecord,exports.default=record;
